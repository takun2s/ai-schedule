import{_ as T,f as d,c as B,e as o,a as t,w as a,r as s,b as I,j as r,t as m}from"./index-D2evTw0f.js";const F={class:"logs"},P={class:"toolbar"},j={class:"pagination"},A={class:"log-detail"},$={class:"detail-item"},q={class:"detail-item"},G={class:"detail-item"},H={class:"detail-item"},J={class:"result"},K={__name:"Logs",setup(M){const n=d({taskName:"",status:"",timeRange:[]}),S=d([]),c=d(1),v=d(10),V=d(0),g=d(!1),i=d({}),k=()=>{},y=()=>{n.value={taskName:"",status:"",timeRange:[]}},U=p=>{v.value=p},w=p=>{c.value=p},z=p=>{i.value=p,g.value=!0};return(p,e)=>{const N=s("el-input"),_=s("el-form-item"),f=s("el-option"),x=s("el-select"),E=s("el-date-picker"),b=s("el-button"),h=s("el-form"),u=s("el-table-column"),C=s("el-tag"),L=s("el-table"),D=s("el-pagination"),R=s("el-dialog");return I(),B("div",F,[o("div",P,[t(h,{inline:!0,model:n.value},{default:a(()=>[t(_,{label:"任务名称"},{default:a(()=>[t(N,{modelValue:n.value.taskName,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value.taskName=l),placeholder:"请输入任务名称"},null,8,["modelValue"])]),_:1}),t(_,{label:"执行状态"},{default:a(()=>[t(x,{modelValue:n.value.status,"onUpdate:modelValue":e[1]||(e[1]=l=>n.value.status=l),placeholder:"请选择状态"},{default:a(()=>[t(f,{label:"全部",value:""}),t(f,{label:"成功",value:"SUCCESS"}),t(f,{label:"失败",value:"FAILED"})]),_:1},8,["modelValue"])]),_:1}),t(_,{label:"执行时间"},{default:a(()=>[t(E,{modelValue:n.value.timeRange,"onUpdate:modelValue":e[2]||(e[2]=l=>n.value.timeRange=l),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])]),_:1}),t(_,null,{default:a(()=>[t(b,{type:"primary",onClick:k},{default:a(()=>e[6]||(e[6]=[r("查询")])),_:1}),t(b,{onClick:y},{default:a(()=>e[7]||(e[7]=[r("重置")])),_:1})]),_:1})]),_:1},8,["model"])]),t(L,{data:S.value,style:{width:"100%"}},{default:a(()=>[t(u,{prop:"id",label:"ID",width:"80"}),t(u,{prop:"taskName",label:"任务名称"}),t(u,{prop:"startTime",label:"开始时间",width:"180"}),t(u,{prop:"endTime",label:"结束时间",width:"180"}),t(u,{prop:"duration",label:"执行时长",width:"100"},{default:a(({row:l})=>[r(m(l.duration)+"ms ",1)]),_:1}),t(u,{prop:"status",label:"状态",width:"100"},{default:a(({row:l})=>[t(C,{type:l.status==="SUCCESS"?"success":"danger"},{default:a(()=>[r(m(l.status==="SUCCESS"?"成功":"失败"),1)]),_:2},1032,["type"])]),_:1}),t(u,{label:"操作",width:"100"},{default:a(({row:l})=>[t(b,{type:"primary",size:"small",onClick:O=>z(l)},{default:a(()=>e[8]||(e[8]=[r(" 详情 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),o("div",j,[t(D,{"current-page":c.value,"onUpdate:currentPage":e[3]||(e[3]=l=>c.value=l),"page-size":v.value,"onUpdate:pageSize":e[4]||(e[4]=l=>v.value=l),"page-sizes":[10,20,50,100],total:V.value,layout:"total, sizes, prev, pager, next",onSizeChange:U,onCurrentChange:w},null,8,["current-page","page-size","total"])]),t(R,{modelValue:g.value,"onUpdate:modelValue":e[5]||(e[5]=l=>g.value=l),title:"执行详情",width:"800px"},{default:a(()=>[o("div",A,[o("div",$,[e[9]||(e[9]=o("span",{class:"label"},"任务名称：",-1)),o("span",null,m(i.value.taskName),1)]),o("div",q,[e[10]||(e[10]=o("span",{class:"label"},"执行时间：",-1)),o("span",null,m(i.value.startTime),1)]),o("div",G,[e[11]||(e[11]=o("span",{class:"label"},"执行状态：",-1)),t(C,{type:i.value.status==="SUCCESS"?"success":"danger"},{default:a(()=>[r(m(i.value.status==="SUCCESS"?"成功":"失败"),1)]),_:1},8,["type"])]),o("div",H,[e[12]||(e[12]=o("span",{class:"label"},"执行结果：",-1)),o("pre",J,m(i.value.result),1)])])]),_:1},8,["modelValue"])])}}},W=T(K,[["__scopeId","data-v-8f6a1dc4"]]);export{W as default};
